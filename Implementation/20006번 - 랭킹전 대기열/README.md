### 20006번: 랭킹전 대기열

1. **문제 사이트** : [바로가기](https://www.acmicpc.net/problem/20006)
2. **도움 블로그** : 

**문제 조건**
- 게임에 랭킹전 기능을 추가하고자 함. 플레이어 간 실력차이가 있을 수 있기에 입장을 신청하면 자신과 비슷한 레벨의 플레이어 끼리 매칭을 제공하고자 함
- 매칭 시스템
    - 플레이어가 입장을 신청할 때 매칭 가능한 방이 없으면 새로운 방을 생성하고 입장
    - 방은 처음 입장한 플레이어의 레벨을 기준으로 -10부터 +10까지 입장 가능
    - 입장이 가능한 방이 있으면 m명까지 다 찰 때까지 대기
    - 입장 가능한 방이 여러개 있다면 먼저 생성된 방에 입장
    - 방의 정원이 다 차면 게임 시작

**출력**  
- 생선된 모든 방에 대해서 게임 시작 유무와 해당 방의 플레이어들의 레벨과 아이디를 출력
- 방은 생성된 순서대로 출력하며 해당 방의 플레이어의 정보는 닉네임의 사전 순으로 출력
- 방이 시작되었으면 _"Started!"_ 를, 대기 중이면 _"Waiting!"_ 을 출력

### 풀이
1. 생성될 방에 플레이어의 정보를 저장할 `room`을 생성
2. 방은 여러개가 생성될 수 있으므로 해당 방의 개수를 나타낼 `cnt`도 선언
3. 플레이어의 정보가 `Q`에 담겨있으므로, `Q`에 하나씩 꺼내서 모든 플레이어가 각 방에 들어갈 수 있도록 작성
4. 플레이어가 방에 들어갈 수 없으면 새로운 방에 플레이어의 정보를 입력
5. 방이 여러개가 있어서 플레이어의 레벨을 확인하여 해당 방의 레벨을 파악해서 들어 갈 수 있는지 확인
6. 방에 들어갈 수 있는 레벨이 확인되면, 해당 방의 정원도 `m`명 이하인지 확인
7. 위 방식을 반복하여 `Q`에 담긴 플레이어들을 알맞은 매칭 방에 입력
8. 생성된 방을 순서대로 확인하며 각 방의 인원이 `m`명 이면은 _"Started!"_ , 부족하면은 _"Waiting!"_ 을 출력
9. 해당 방의 플레이어의 이름을 오름차순으로 정렬한 후, 순서대로 출력

### 핵심 코드

<details>
<summary>코드 보기</summary>

```cpp
void solve() {
    vector<pair<int, string> > room[301];
    int cnt = 0;
    while(!Q.empty()) {
        pair<int, string> cur = Q.front(); Q.pop();
        bool check = true;
        for(int i = 0; i < cnt; i++) {
            if(cur.first <= room[i][0].first + 10 && cur.first >= room[i][0].first - 10) {
                if(room[i].size() < m) {
                    room[i].push_back(cur);
                    check = false;
                    break;
                }
            }
        }
        if(check) {
            room[cnt].push_back(cur);
            cnt++;
        }
        
    }
    for(int i = 0; i < cnt; i++) {
        cout << (room[i].size() >= m ? "Started!" : "Waiting!") << '\n'; 
        sort(room[i].begin(), room[i].end(), compare);
        for(auto it : room[i]) {
            cout << it.first << " " << it.second << "\n";
        }
    }
}
```
- 생성할 방의 플레이어들의 정보를 저장할 `room[]`, 방의 순서를 나타낼 `cnt`
- `check` 변수를 `true`로 선언하고, 현재 플레이어의 정보가 방에 입력되면은 `false`로 변환
- 현재 플레이어의 정보은 `cur`가 생성된 방이 있으면 방의 레벨에 들어갈 수 있고, 방의 정원 내에 들어갈 수 있으면 해당 방 순서에 들어감
- `check`는 **플레이어가 방에 들어갈 수 있는 유무를 체크**하는 것으로 만일 들어갈 방이 없으면 새로운 방을 생성
- `Q`에 저장된 플레이어들의 정보가 다 사라질 때 까지 반복
- 출력할 떄 각 방의 플레이어의 인원이 `m`명 이상이면 _"Started!"_ 를, 부족하면 _"Waiting!"_ 을 출력
- 해당 순서의 방에 플레이어의 이름을 오름차순으로 정렬 후, 출력
</details>

### 후기
- 실버2 문제라길래 얕잡아봤다가 어려워서 힘들었다. 로직자체는 특별한 알고리즘은 없지만, 구현하는 것이 힘들었다.