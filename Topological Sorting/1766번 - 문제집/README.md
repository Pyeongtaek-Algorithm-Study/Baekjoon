### 1766번: 문제집

1. **문제 사이트** : [바로가기](https://www.acmicpc.net/problem/1766)
2. **도움 블로그** : https://jungahshin.tistory.com/218

**문제 조건**
- 민오는 1번부터 N번까지의 문제의 문제집을 풀려고 함.
- 문제 난이도는 번호 순서대로 어려워짐
- 일부 문제의 경우 먼저 풀어야 쉽게 풀리는 **문제 순서**가 존재
- 문제 푸는 순서 규칙
> > 1. N개의 문제를 모두 푼다.
> > 2. 먼저 푸는 것이 좋은 문제가 있는 경우, 반드시 좋은 문제를 먼저 풀어야 한다.
> > 3. 가능한 쉬운 문제부터 푼다(2번 규칙에 맞춰지며 오름차순 식으로 풀어야 한다)

**출력**  
- 문제 정보가 주어졌을때, 주어진 문제 풀이 **순서에 맞도록 풀어야 하는 문제 순서**를 출력

### 풀이
1. 문제를 오름차순으로 담을 우선순위 큐인 `pq`를 선언
2. 사전에 풀지 않아도 되는 문제들을 `pq`에 담음  
_문제를 풀어야 되는 순서가 존재하므로 위상정렬 알고리즘 활용_
4. 순서대로 문제를 꺼내서 확인해서 해당 문제가 사전 문제인 경우의 문제들의 횟수를 1을 뺌
5. 횟수를 빼고난 후 해당 사전 문제 개수가 0이 되었다면, `pq`에 담음
6. 위 과정을 반복하며 `pq`에 담길 때, 알아서 **오름차순식**으로 정렬되므로 매 단계마다 출력

### 핵심 코드

<details>
<summary>코드 보기</summary>

```cpp
void solve() {
    priority_queue<int, vector<int>, greater<int>> pq;
    for(int i = 1; i <= n; i++)
        if(!degree[i]) pq.push(i);
    
    while(!pq.empty()) {
        int now = pq.top(); pq.pop();
        cout << now << ' ';
        for(int i = 0; i < v[now].size(); i++) {
            if(--degree[v[now][i]] == 0) pq.push(v[now][i]);
        }
    }
}
```
- 출력할 문제를 순서대로 출력할 우선순위 큐 `pq`를 선언
- 사전 문제가 필요 없는 문제들을 `pq`에 담음
- 현재 문제를 `now`에 저장한 후, `now`를 사전 문제로 요구하는 문제들을 확인하여 해당 횟수를 줄임
- 횟수를 줄여서 해당 관련된 문제가 사전 문제 요구 개수가 0이면은 풀 수 있는 것이므로 `pq`에 해당 문제를 담음
- 위 과정을 반복하면서 단계마다, `now`를 출력함.
</details>

### 후기
- 우선순위 큐 사용을 안하고 `v[now]`를 _sort_ 를 활용할 때는 틀렸었다. 아마 약간 출력되는 것이 오름차순이 아닌 것 같음.
- 문제의 난이도때문에 우선순위 큐가 필요한 것을 제외하면 일반적인 _위상정렬 알고리즘_ 과 동일했음