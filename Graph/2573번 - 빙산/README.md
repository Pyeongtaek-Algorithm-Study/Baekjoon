### 2573번: 빙산

문제 사이트 : [바로가기](https://www.acmicpc.net/problem/2573)

**문제 조건**
- 2차원 배열에 각 부분별로 빙산의 높이가 저장되며, 해당 빙산의 높이 주변에 0인 바다가 접해있을수록 더 빨리 감소(단, 0이하로 줄어든지 않음.)  
_즉, 해당 빙산 칸 상하좌우에 0이 있는 만큼 빙산의 높이가 감소_
- 빙산이 상하좌우로 연결되어 있을 경우 하나의 빙산으로 정의, 떨어져있는 경우 서로 다른 빙산

**출력**  
- 빙산이 2개 이상 분리되는 최초 년도 출력하고 만일 빙산이 다 녹을 때까지 분리되지 않으면 0을 출력

### 풀이
1. 년도마다 빙하의 높이가 감소하는데, 감소된 높이를 저장할 `tmp[][]`가 필요  
_(※ 순차적으로 돌면서 감소되는 빙산 높이가 정의된 `arr[][]`에 저장하면은 이전에 높은 빙산때문에 **높이가 2만 줄어야하는데 3이 줄어들 수가 있음**)_
2. `tmp[][]`에 저장된 값들을 `arr[][]`에 다시 저장
3. `arr[][]`을 기준으로 `bfs()` 또는 `dfs()`를 통해서 빙산의 개수 구하기
4. 빙산의 개수가 2개 이상일 경우 지난 년도 출력 또는 0개 일 경우 0 출력
5. 빙산이 녹았음에도 한 덩어리일 경우 반복

### 핵심 코드

<details>
<summary>코드 보기</summary>

```cpp
void solve() {
    while(1) {
        int iceberg = 0;
        for(int i = 0; i < n; i++) {
            for(int j = 0; j < m; j++) {
                if(arr[i][j] && !vis[i][j]) {
                    iceberg++;
                    // q.push({i, j});
                    // bfs();
                    dfs({i, j});
                }
            }
        }
        memset(vis, 0, sizeof(vis));
        if(iceberg != 1) {
            cout << ((iceberg >= 2) ? year : 0);
            return;
        }
        
        for(int i = 0; i < n; i++) {
            for(int j = 0; j < m; j++) {
                if(arr[i][j]) {
                    int sea = 0;
                    for(int k = 0; k <4; k++) {
                        int nx = i + dx[k];
                        int ny = j + dy[k];
                        if(!arr[nx][ny]) sea++;
                    }
                    tmp[i][j] = max(arr[i][j] - sea, 0);
                }
            }
        }
        
        for(int i = 0; i < n; i++) {
            for(int j = 0; j < m; j++) {
                arr[i][j] = tmp[i][j];
            }
        }
        year++;
    }
}
```
- 저장된 `arr[][]`에서 `dfs()`를 돌면서 빙산의 개수 구하기
- 빙산의 개수 1개가 아닐 때에는 결과에 따른 결과값 출력
- `arr[][]`에서 바다가 아닌 위치(빙산의 높이)일 때 **해당 빙산 주변에 바다의 개수를 구해서 바다의 개수만큼 빙산의 높이 줄이기**
- `tmp[][]`에 임시적으로 저장한 빙산의 높이들을 다시 `arr[][]`에 저장
- 빙산의 높이가 줄어들었으므로, `year`를 증가시키고 빙산의 개수가 2개 이상 또는 다 녹을 때까지 반복하여 결과 출력
</details>